# 🔑 生成 Gmail 应用专用密码 - 详细指南

## 📝 什么是应用专用密码？

应用专用密码是 Google 为第三方应用生成的特殊密码，用于替代你的 Gmail 账户密码。这样更安全，因为：
- ✅ 不会暴露你的真实密码
- ✅ 可以随时撤销单个应用的访问权限
- ✅ 即使泄露也只影响单个应用

---

## 🚀 生成步骤（详细版）

### 前提条件
⚠️ **必须先启用两步验证**，否则无法生成应用专用密码

---

### 第一步：访问 Google 账户设置

**方法 1：直接访问**
1. 打开浏览器
2. 访问：https://myaccount.google.com/
3. 点击左侧菜单的"安全性"

**方法 2：从 Gmail 进入**
1. 打开 Gmail
2. 点击右上角头像
3. 选择"管理你的 Google 账户"
4. 点击"安全性"

---

### 第二步：启用两步验证（如果还没启用）

1. 在"安全性"页面，找到"登录 Google"部分
2. 点击"两步验证"
3. 点击"使用入门"按钮
4. 按照提示操作：
   - 输入密码确认身份
   - 添加手机号码
   - 选择接收验证码的方式（短信或语音）
   - 输入收到的验证码
   - 点击"启用"

✅ 完成后会看到"两步验证已启用"

---

### 第三步：生成应用专用密码

1. **回到"安全性"页面**
   
2. **找到"应用专用密码"**
   - 在"登录 Google"部分
   - 可能需要向下滚动
   - 如果找不到，直接访问：https://myaccount.google.com/apppasswords
   
3. **点击"应用专用密码"**
   - 可能需要重新输入 Google 密码验证身份
   
4. **选择应用和设备**
   - 在"选择应用"下拉菜单中选择"邮件"
   - 在"选择设备"下拉菜单中选择"Mac"
   - 或者选择"其他(自定义名称)"，输入"Gmail Manager"
   
5. **点击"生成"按钮**
   
6. **复制生成的密码**
   - 会显示一个 16 位密码，格式：`xxxx xxxx xxxx xxxx`
   - 复制这个密码（可以点击复制按钮）
   - ⚠️ **重要**：这个密码只显示一次，关闭后无法再查看
   - 如果忘记了，需要重新生成一个新的

---

## 🎯 快速直达链接

### 方案 A：一键直达（推荐）
直接访问这个链接：
```
https://myaccount.google.com/apppasswords
```

### 方案 B：如果链接不工作
1. 访问：https://myaccount.google.com/security
2. 向下滚动找到"应用专用密码"
3. 点击进入

---

## 💡 使用密码

生成后，将密码填入配置文件：

```json
{
  "email": "你的邮箱@gmail.com",
  "app_password": "xxxxxxxxxxxxxxxx"
}
```

⚠️ **注意**：
- 去掉空格，16位连续字符
- 例如：`abcd efgh ijkl mnop` → `abcdefghijklmnop`
- 这不是你的 Gmail 登录密码，是专门生成的应用密码

---

## ❓ 常见问题

### Q1: 找不到"应用专用密码"选项？
**原因**：
- ❌ 没有启用两步验证
- ❌ 使用的是企业/学校账户，管理员可能禁用了此功能
- ❌ 账户安全性较低，Google 要求先提升安全性

**解决**：
1. 确保已启用两步验证
2. 等待 5-10 分钟后刷新页面
3. 如果还是没有，尝试从其他设备登录

### Q2: 生成的密码不工作？
**检查**：
- ✓ 确认复制时没有包含空格
- ✓ 确认没有复制多余的字符
- ✓ 尝试重新生成一个新密码

### Q3: 企业/学校账户怎么办？
- 联系 IT 管理员询问是否允许使用应用专用密码
- 或者使用个人 Gmail 账户

### Q4: 已经生成了很多应用专用密码？
- 可以在同一页面查看和撤销旧的密码
- 建议定期清理不再使用的密码

---

## 🔒 安全提示

✅ **推荐做法**：
- 为每个应用/设备生成单独的密码
- 定期检查和清理不用的密码
- 不要分享应用专用密码

❌ **不要**：
- 不要使用 Gmail 账户密码代替应用专用密码
- 不要在多个应用中使用同一个应用专用密码
- 不要将密码明文保存在公开位置

---

## 📸 视觉指南

路径示意：

```
Google 账户首页
    ↓
安全性
    ↓
两步验证（先启用）
    ↓
应用专用密码
    ↓
选择应用：邮件
    ↓
选择设备：Mac
    ↓
生成
    ↓
复制 16 位密码
```

---

## ✅ 配置完成后

运行测试命令：
```bash
python3 gmail_manager.py list 5
```

如果看到邮件列表，说明配置成功！🎉

